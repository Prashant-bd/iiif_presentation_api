services:
  serializer.encoder.iiif_presentation_api.iiif_p_v3.encoder:
    class: 'Drupal\iiif_presentation_api\Encoder\V3\IiifP'
    tags:
      - { name: encoder, priority: 20, format: 'iiif-p-v3' }
  serializer.normalizer.iiif_presentation_api.iiif_p_v3.content_entity:
    class: 'Drupal\iiif_presentation_api\Normalizer\V3\ContentEntityNormalizer'
    tags:
      - { name: normalizer, priority: 10 }
    arguments: ['@current_user', '@router.route_provider']
  serializer.normalizer.iiif_presentation_api.iiif_p_v3.field_item_list:
    class: 'Drupal\iiif_presentation_api\Normalizer\V3\FieldItemListNormalizer'
    tags:
      - { name: normalizer, priority: 10 }
  serializer.normalizer.iiif_presentation_api.iiif_p_v3.field_item:
    class: 'Drupal\iiif_presentation_api\Normalizer\V3\FieldItemNormalizer'
    tags:
      - { name: normalizer, priority: 10 }
